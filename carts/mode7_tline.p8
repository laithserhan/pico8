pico-8 cartridge // http://www.pico-8.com
version 27
__lua__
function _init()
 poke(0x5f38,2)
 poke(0x5f39,2)
end
local cx,cy,cz=0,40,0
local angle=0
function _update()
 if(btn(2)) cz-=1/8
 if(btn(3)) cz+=1/8
 
 if(btn(0)) angle+=1/64
 if(btn(1)) angle-=1/64
 
 --cy=abs(40*cos(time()/16))

end

function _draw() 
 cls()
 local a=angle--time()/4
 local ca,sa=cos(a),-sin(a)
 for ye=65,127 do
		-- coords in world space
		local z=cz+cy/(ye-64)
		local x=cz-z+cx
		local zcam=z
		-- rotate
		x,z=-sa*x+ca*z,ca*x+sa*z
 	--rectfill(0,ye,127,ye,zcam*16)	
  tline(0,ye,127,ye,x,z,-sa*zcam/64,ca*zcam/64)
 end
 print(stat(1),2,2,7)
end
__gfx__
00000000888888882222222200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000888888882222222200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700888888882222222200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000888888882222222200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000888888882222222200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700888888882222222200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000888888882222222200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000888888882222222200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000222222228888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000222222228888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000222222228888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000222222228888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000222222228888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000222222228888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000222222228888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000222222228888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0102000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1112000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
