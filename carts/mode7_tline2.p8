pico-8 cartridge // http://www.pico-8.com
version 27
__lua__
function _init()
 poke(0x5f38,2)
 poke(0x5f39,2)
end
local dz,dy=0,0
local cx,cy,cz=0,2,0
local angle=0
function _update()
 if(btn(2)) dz-=1/16
 if(btn(3)) dz+=1/16
 
 if(btn(0)) angle-=1/64
 if(btn(1)) angle+=1/64
 
 if(btn(4)) dy=0.2
 
 cx+=dz*sin(angle)
 cz+=-dz*cos(angle)
 cy=max(cy+dy,1)
 dy-=0.02
 --cy=abs(5*cos(time()/16))
	dz*=0.8
end

function _draw() 
 cls()
 local a=angle--time()/4
 local ca,sa=cos(a),-sin(a)
 for ye=65,127 do
		-- coords in world space
		local rz=(cy*64)/(ye-64)
		local rx=rz*(0-64)/64
		local x,z=ca*rx+sa*rz+cx,-sa*rx+ca*rz+cz
		--[[
		local x=tx+cx
		local z=tz+cz
		]]
 	--rectfill(0,ye,127,ye,zcam*16)	
  tline(0,ye,127,ye,x,z,ca*rz/64,-sa*rz/64)
 end
 print(stat(1),2,2,7)
 print(cx.."/"..cz,2,8,7)
end
__gfx__
00000000888888882222222200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000888888882222222200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700888888882222222200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000888888882222222200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000888888882222222200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700888888882222222200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000888888882222222200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000888888882222222200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000222222228888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000222222228888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000222222228888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000222222228888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000222222228888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000222222228888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000222222228888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000222222228888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0102000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1112000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
